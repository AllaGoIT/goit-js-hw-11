{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nconst galEl = document.querySelector(\"ul.gallery\");\nconst fragment = document.createDocumentFragment();\n\nexport const createGalleryList = json => {\n    \n    json.hits.forEach(item => {\n        const li = document.createElement(\"li\");\n        li.classList.add(\"gallery-item\");\n\n        const a = document.createElement(\"a\");\n        a.classList.add(\"gallery-link\");\n        a.href = item.largeImageURL;\n\n        const img = document.createElement(\"img\");\n        img.classList.add(\"gallery-image\");\n        img.src = item.webformatURL;\n        img.alt = item.tags;\n     \n        const h1 = document.createElement(\"h1\");\n        h1.classList.add(\"gallery-text1\");\n        h1.href = item.likes;\n       \n        const h2 = document.createElement(\"h2\");\n        h2.classList.add(\"gallery-text2\");\n        h2.href = item.views;\n\n          const h3 = document.createElement(\"h3\");\n        h3.classList.add(\"gallery-text3\");\n        h3.href = item.comments;\n\n        const h4 = document.createElement(\"h4\");\n        h4.classList.add(\"gallery-text4\");\n        h4.href = item.downloads;\n\n\n        li.appendChild(a);\n        a.appendChild(img);\n        img.appendChild(h1, h2, h3, h4);\n\n        fragment.appendChild(li);\n    });\n    galEl.appendChild(fragment);\n  \n\n    const loadEl = document.querySelector(\".loader\");\n    loadEl.style.visibility = \"hidden\";\n    loadEl.style.pointerEvents = \"none\";\n      \n    localStorage.removeItem(\"feedback-form-state\");\n    galEl.reset();\n    gallery.innerHTML = \"\";\n    lightbox.refresh();\n\n\n}\n\n// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n\n//  return json\n//     .map(\n//       ({ webformatURL,largeImageURL,tags,likes,views,comments,downloads }) => \n//     <div class=\"gallery\">\n//     <a href=\"${webformatURL}\"><img src=\"${largeImageURL}\" alt=\"${tags}\" title=\"${comments}\"/></a>\n// </div>\n//     )\n// .join('');","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport {createGalleryList} from \"./render-functions.js\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = '43918725-f2c9edad28ee6306c974c89a7';\n\n \n\nexport const fetchPhotosCats = (query = \"cat\") => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: 'horizontal',\n    safesearch: \"true\"\n  });\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error((\n        iziToast.show({\n          position: 'topCenter',\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          color: 'red',\n          close: true,\n        })\n      ));\n    }\n    return response.json();\n\n  })\n    .then(json => {\n      console.log(json);\n      if (json.total === 0) {\n        throw new Error((\n          iziToast.show({\n            position: 'topCenter',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            color: 'red',\n            close: true,\n          })\n        ));\n      }\n      createGalleryList(json);\n    })\n    .catch(error => {\n      console.log(error);\n    });\n};\n\n  // key — твій унікальний ключ доступу до API.\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type — тип зображення. Потрібні тільки фотографії, тому постав значення photo.\n// orientation — орієнтація фотографії. Постав значення horizontal.\n// safesearch — фільтр за віком. Постав значення true.\n// const searchQuery = 'cats';\n// const params = `?key=${API_KEY}&q=${searchQuery}&image_type=photo&orientation\"horizontal&safesearch=true\"`;\n\n// const options = {\n//   headers: {\n//     API_KEY: '43918725-f2c9edad28ee6306c974c89a7',\n//   },\n// };","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport { fetchPhotosCats } from \"./js/pixabay-api.js\";\nimport { createGalleryList } from \"./js/render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst formEl = document.querySelector(\".form\");\nformEl.addEventListener(\"submit\", onSubmit);\nconst loadEl = document.querySelector(\".loader\");\nconst galEl = document.querySelector(\"ul.gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements[0].value.trim();\n  event.target.reset();\n  loadEl.style.visibility = \"visible\";\n  loadEl.style.pointerEvents = \"all\";\n  //lightbox.refresh();\n  //galEl.remove();\n  //sessionStorage.clear();\n  // ul.gallery.remove();\n  // ul.gallery.reset();\n  //gallery.innerHTML = \"\";\n  \n  if (searchQuery) {\n    fetchPhotosCats(searchQuery);\n  }\n    \n}\n\n  // localStorage.removeItem(\"feedback-form-state\");\n  //   dataEl.reset();\n  //   formData.email = \"\";\n  //   formData.message = \"\";\n "],"names":["galEl","fragment","createGalleryList","json","item","li","a","img","h1","h2","h3","h4","loadEl","BASE_URL","API_KEY","fetchPhotosCats","query","searchParams","response","iziToast","error","formEl","onSubmit","SimpleLightbox","event","searchQuery"],"mappings":"6vBAEA,MAAMA,EAAQ,SAAS,cAAc,YAAY,EAC3CC,EAAW,SAAS,yBAEbC,EAAoBC,GAAQ,CAErCA,EAAK,KAAK,QAAQC,GAAQ,CACtB,MAAMC,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,cAAc,EAE/B,MAAMC,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,UAAU,IAAI,cAAc,EAC9BA,EAAE,KAAOF,EAAK,cAEd,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAU,IAAI,eAAe,EACjCA,EAAI,IAAMH,EAAK,aACfG,EAAI,IAAMH,EAAK,KAEf,MAAMI,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,eAAe,EAChCA,EAAG,KAAOJ,EAAK,MAEf,MAAMK,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,eAAe,EAChCA,EAAG,KAAOL,EAAK,MAEb,MAAMM,EAAK,SAAS,cAAc,IAAI,EACxCA,EAAG,UAAU,IAAI,eAAe,EAChCA,EAAG,KAAON,EAAK,SAEf,MAAMO,EAAK,SAAS,cAAc,IAAI,EACtCA,EAAG,UAAU,IAAI,eAAe,EAChCA,EAAG,KAAOP,EAAK,UAGfC,EAAG,YAAYC,CAAC,EAChBA,EAAE,YAAYC,CAAG,EACjBA,EAAI,YAAYC,EAAIC,EAAIC,EAAIC,CAAE,EAE9BV,EAAS,YAAYI,CAAE,CAC/B,CAAK,EACDL,EAAM,YAAYC,CAAQ,EAG1B,MAAMW,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,WAAa,SAC1BA,EAAO,MAAM,cAAgB,OAE7B,aAAa,WAAW,qBAAqB,EAC7CZ,EAAM,MAAK,EACX,QAAQ,UAAY,GACpB,SAAS,QAAO,CAGpB,ECpDMa,EAAW,2BACXC,EAAU,qCAIHC,EAAkB,CAACC,EAAQ,QAAU,CAChD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACRC,EAAS,KAAK,CACZ,SAAU,YACV,QAAS,2EACT,MAAO,MACP,MAAO,EACjB,CAAS,CACT,EAEI,OAAOD,EAAS,MAEpB,CAAG,EACE,KAAKf,GAAQ,CAEZ,GADA,QAAQ,IAAIA,CAAI,EACZA,EAAK,QAAU,EACjB,MAAM,IAAI,MACRgB,EAAS,KAAK,CACZ,SAAU,YACV,QAAS,2EACT,MAAO,MACP,MAAO,EACnB,CAAW,CACX,EAEMjB,EAAkBC,CAAI,CAC5B,CAAK,EACA,MAAMiB,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,CACL,ECzCMC,EAAS,SAAS,cAAc,OAAO,EAC7CA,EAAO,iBAAiB,SAAUC,CAAQ,EAC1C,MAAMV,EAAS,SAAS,cAAc,SAAS,EACjC,SAAS,cAAc,YAAY,EAEhC,IAAIW,EAAe,aAAc,CAC9C,gBAAiB,SACjB,aAAc,IACd,aAAc,KAClB,CAAC,EAED,SAASD,EAASE,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,CAAC,EAAE,MAAM,OACnDA,EAAM,OAAO,QACbZ,EAAO,MAAM,WAAa,UAC1BA,EAAO,MAAM,cAAgB,MAQzBa,GACFV,EAAgBU,CAAW,CAG/B"}