{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\nconst galEl = document.querySelector(\"ul.gallery\");\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    captionsData: 'alt',\n});\n\nexport const createGalleryList = images => {\n\n    const markUp = images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n     <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${webformatURL}\"\n          alt=\"${tags}\"\n        />\n        <div class= \"text-list\">\n          <p\">Likes:${likes}</p> \n          <p>Views:${views}</p>\n          <p>Comments:${comments}</p>\n         <p>Downloads:${downloads}</p>\n        </div>\n      </a>\n    </li>\n    `).join(\"\");\n\n    galEl.insertAdjacentHTML(\"beforeend\", markUp);\n    lightbox.refresh();\n    \n    const loadEl = document.querySelector(\".loader\");\n    loadEl.style.visibility = \"hidden\";\n  loadEl.style.pointerEvents = \"none\";\n  \n  \n}\n\n\n    \n","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport {createGalleryList} from \"./render-functions.js\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = '43918725-f2c9edad28ee6306c974c89a7';\n\n \n\nexport const fetchPhotosCats = (query = \"cat\") => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: 'horizontal',\n    safesearch: \"true\"\n  });\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error((\n        iziToast.show({\n          position: 'topCenter',\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n          color: 'red',\n          close: true,\n        })\n      ));\n    }\n    return response.json();\n  })\n} \n","import \"izitoast/dist/css/iziToast.min.css\";\nimport iziToast from \"izitoast\";\nimport { fetchPhotosCats } from \"./js/pixabay-api.js\";\nimport { createGalleryList } from \"./js/render-functions.js\";\n\n\nconst formEl = document.querySelector(\".form\");\nformEl.addEventListener(\"submit\", onSubmit);\nconst loadEl = document.querySelector(\".loader\");\nconst galEl = document.querySelector(\"ul.gallery\");\n\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.target.elements[0].value.trim();\n  event.target.reset();\n  loadEl.style.visibility = \"visible\";\n  loadEl.style.pointerEvents = \"all\";\n  \n  if (searchQuery) {\n    fetchPhotosCats(searchQuery).then(json => {\n      if (json.total === 0) {\n        throw new Error((\n          iziToast.show({\n            position: 'topCenter',\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            color: 'red',\n            close: true,\n          })\n        ));\n      }\n      createGalleryList(json.hits);\n    \n    })\n    .catch(error => {\n      console.log(error);\n    });\n  };\n    galEl.innerHTML = \"\";\n};\n\n "],"names":["galEl","lightbox","SimpleLightbox","createGalleryList","images","markUp","webformatURL","largeImageURL","tags","likes","views","comments","downloads","loadEl","BASE_URL","API_KEY","fetchPhotosCats","query","searchParams","response","iziToast","formEl","onSubmit","event","searchQuery","json","error"],"mappings":"6vBAEA,MAAMA,EAAQ,SAAS,cAAc,YAAY,EAG3CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,gBAAiB,SACjB,aAAc,IACd,aAAc,KAClB,CAAC,EAEYC,EAAoBC,GAAU,CAEvC,MAAMC,EAASD,EAAO,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,sCAEtEL,CAAa;AAAA;AAAA;AAAA,iBAGlCD,CAAY;AAAA,iBACZE,CAAI;AAAA;AAAA;AAAA,sBAGCC,CAAK;AAAA,qBACNC,CAAK;AAAA,wBACFC,CAAQ;AAAA,wBACRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI5B,EAAE,KAAK,EAAE,EAEVZ,EAAM,mBAAmB,YAAaK,CAAM,EAC5CJ,EAAS,QAAO,EAEhB,MAAMY,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,WAAa,SAC5BA,EAAO,MAAM,cAAgB,MAG/B,ECnCMC,EAAW,2BACXC,EAAU,qCAIHC,EAAkB,CAACC,EAAQ,QAAU,CAChD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACD,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MACRC,EAAS,KAAK,CACZ,SAAU,YACV,QAAS,2EACT,MAAO,MACP,MAAO,EACjB,CAAS,CACT,EAEI,OAAOD,EAAS,MACpB,CAAG,CACH,ECxBME,EAAS,SAAS,cAAc,OAAO,EAC7CA,EAAO,iBAAiB,SAAUC,CAAQ,EAC1C,MAAMT,EAAS,SAAS,cAAc,SAAS,EACzCb,EAAQ,SAAS,cAAc,YAAY,EAIjD,SAASsB,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,CAAC,EAAE,MAAM,OACnDA,EAAM,OAAO,QACbV,EAAO,MAAM,WAAa,UAC1BA,EAAO,MAAM,cAAgB,MAEzBW,GACFR,EAAgBQ,CAAW,EAAE,KAAKC,GAAQ,CACxC,GAAIA,EAAK,QAAU,EACjB,MAAM,IAAI,MACRL,EAAS,KAAK,CACZ,SAAU,YACV,QAAS,2EACT,MAAO,MACP,MAAO,EACnB,CAAW,CACX,EAEMjB,EAAkBsB,EAAK,IAAI,CAEjC,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EAED1B,EAAM,UAAY,EACtB"}